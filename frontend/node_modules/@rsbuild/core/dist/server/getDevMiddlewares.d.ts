import type { UpgradeEvent, RequestHandler, DevMiddlewaresConfig, CompileMiddlewareAPI } from '@rsbuild/shared';
export type RsbuildDevMiddlewareOptions = {
    pwd: string;
    dev: DevMiddlewaresConfig;
    compileMiddlewareAPI?: CompileMiddlewareAPI;
    output: {
        distPath: string;
    };
};
export declare const getMiddlewares: (options: RsbuildDevMiddlewareOptions) => Promise<{
    close: () => Promise<void>;
    onUpgrade: UpgradeEvent;
    middlewares: RequestHandler[];
}>;
